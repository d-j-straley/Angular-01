{"ast":null,"code":"import { inject } from '@angular/core';\nimport { CartService } from '../cart.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../cart.service\";\nimport * as i2 from \"./product.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../product-details/product-details.component\";\nfunction CatalogComponent_li_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 5)(1, \"bot-product-details\", 6);\n    i0.ɵɵlistener(\"buy\", function CatalogComponent_li_13_Template_bot_product_details_buy_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const product_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.addToCart(product_r1));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const product_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"product\", product_r1);\n  }\n}\nclass CatalogComponent {\n  constructor(cartSvc, productSvc) {\n    this.cartSvc = cartSvc;\n    this.productSvc = productSvc;\n    this.filter = '';\n    this._cartSvc = inject(CartService);\n  }\n  // Here's our \"lifecycle\" method. This is a method that Angular will call when the component is created.\n  ngOnInit() {\n    this.productSvc.getProducts().subscribe(products => {\n      this.products = products;\n      // Now that we have the products, we can log them to the console.\n      // this is just DJS' own request.\n      if (this.products.length > 0) {\n        for (let product of this.products) {\n          console.log(product);\n        }\n      }\n    });\n  }\n  addToCart(product) {\n    this.cartSvc.add(product);\n  }\n  getDiscountedClasses(product) {\n    if (product.discount > 0) {\n      return ['strikethrough'];\n    } else {\n      return [''];\n    }\n  }\n  getFilteredProducts() {\n    return this.filter === '' ? this.products : this.products?.filter(product => product.categoryName === this.filter);\n  }\n}\nCatalogComponent.ɵfac = function CatalogComponent_Factory(t) {\n  return new (t || CatalogComponent)(i0.ɵɵdirectiveInject(i1.CartService), i0.ɵɵdirectiveInject(i2.ProductService));\n};\nCatalogComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CatalogComponent,\n  selectors: [[\"bot-catalog\"]],\n  decls: 14,\n  vars: 1,\n  consts: [[1, \"container\"], [1, \"filters\"], [1, \"button\", 3, \"click\"], [1, \"products\"], [\"class\", \"product-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"product-item\"], [3, \"product\", \"buy\"]],\n  template: function CatalogComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"a\", 2);\n      i0.ɵɵlistener(\"click\", function CatalogComponent_Template_a_click_2_listener() {\n        return ctx.filter = \"Heads\";\n      });\n      i0.ɵɵtext(3, \"Heads\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"a\", 2);\n      i0.ɵɵlistener(\"click\", function CatalogComponent_Template_a_click_4_listener() {\n        return ctx.filter = \"Arms\";\n      });\n      i0.ɵɵtext(5, \"Arms\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"a\", 2);\n      i0.ɵɵlistener(\"click\", function CatalogComponent_Template_a_click_6_listener() {\n        return ctx.filter = \"Torsos\";\n      });\n      i0.ɵɵtext(7, \"Torsos\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"a\", 2);\n      i0.ɵɵlistener(\"click\", function CatalogComponent_Template_a_click_8_listener() {\n        return ctx.filter = \"Bases\";\n      });\n      i0.ɵɵtext(9, \"Bases\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"a\", 2);\n      i0.ɵɵlistener(\"click\", function CatalogComponent_Template_a_click_10_listener() {\n        return ctx.filter = \"\";\n      });\n      i0.ɵɵtext(11, \"All\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(12, \"ul\", 3);\n      i0.ɵɵtemplate(13, CatalogComponent_li_13_Template, 2, 1, \"li\", 4);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(13);\n      i0.ɵɵproperty(\"ngForOf\", ctx.getFilteredProducts());\n    }\n  },\n  dependencies: [i3.NgForOf, i4.ProductDetailsComponent],\n  styles: [\".bold[_ngcontent-%COMP%]\\r\\n{\\r\\n  font-weight: bold;\\r\\n}\\r\\n.container[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n}\\r\\n\\r\\n.filters[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  justify-content: space-between;\\r\\n  padding: 25px 200px;\\r\\n}\\r\\n\\r\\n.filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\r\\n  width: 100px;\\r\\n}\\r\\n\\r\\n.products[_ngcontent-%COMP%] {\\r\\n  margin: 0 100px;\\r\\n  border-top: 2px solid #999;\\r\\n}\\r\\n\\r\\n.product-item[_ngcontent-%COMP%] {\\r\\n  border-bottom: 2px solid #999;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY2F0YWxvZy9jYXRhbG9nLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFFQTs7RUFFRSxpQkFBaUI7QUFDbkI7QUFDQTtFQUNFLGFBQWE7RUFDYixzQkFBc0I7QUFDeEI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsOEJBQThCO0VBQzlCLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLFlBQVk7QUFDZDs7QUFFQTtFQUNFLGVBQWU7RUFDZiwwQkFBMEI7QUFDNUI7O0FBRUE7RUFDRSw2QkFBNkI7QUFDL0IiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuXHJcbi5ib2xkXHJcbntcclxuICBmb250LXdlaWdodDogYm9sZDtcclxufVxyXG4uY29udGFpbmVyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbn1cclxuXHJcbi5maWx0ZXJzIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICBwYWRkaW5nOiAyNXB4IDIwMHB4O1xyXG59XHJcblxyXG4uZmlsdGVycyBidXR0b24ge1xyXG4gIHdpZHRoOiAxMDBweDtcclxufVxyXG5cclxuLnByb2R1Y3RzIHtcclxuICBtYXJnaW46IDAgMTAwcHg7XHJcbiAgYm9yZGVyLXRvcDogMnB4IHNvbGlkICM5OTk7XHJcbn1cclxuXHJcbi5wcm9kdWN0LWl0ZW0ge1xyXG4gIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjOTk5O1xyXG59XHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});\nexport { CatalogComponent };","map":{"version":3,"names":["inject","CartService","i0","ɵɵelementStart","ɵɵlistener","CatalogComponent_li_13_Template_bot_product_details_buy_1_listener","restoredCtx","ɵɵrestoreView","_r3","product_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","addToCart","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","CatalogComponent","constructor","cartSvc","productSvc","filter","_cartSvc","ngOnInit","getProducts","subscribe","products","length","product","console","log","add","getDiscountedClasses","discount","getFilteredProducts","categoryName","ɵɵdirectiveInject","i1","i2","ProductService","selectors","decls","vars","consts","template","CatalogComponent_Template","rf","ctx","CatalogComponent_Template_a_click_2_listener","ɵɵtext","CatalogComponent_Template_a_click_4_listener","CatalogComponent_Template_a_click_6_listener","CatalogComponent_Template_a_click_8_listener","CatalogComponent_Template_a_click_10_listener","ɵɵtemplate","CatalogComponent_li_13_Template"],"sources":["C:\\djs\\dev\\Angular\\AngularFundamentals\\Joes-Robot-Shop-Client-Visualstudio\\joes-robot-shop\\joes-robot-shop\\src\\app\\catalog\\catalog.component.ts","C:\\djs\\dev\\Angular\\AngularFundamentals\\Joes-Robot-Shop-Client-Visualstudio\\joes-robot-shop\\joes-robot-shop\\src\\app\\catalog\\catalog.component.html"],"sourcesContent":["import { Component, inject } from '@angular/core';\nimport { IProduct } from './product.model';\nimport { CartService } from '../cart.service';\nimport { ProductService } from './product.service';\n\n@Component({\n  selector: 'bot-catalog',\n  templateUrl: './catalog.component.html',\n  styleUrls: ['./catalog.component.css']\n})\nexport class CatalogComponent {\n  products: IProduct[] | undefined;\n  filter: string = '';\n  private _cartSvc: CartService = inject(CartService);\n\n\n  constructor(private cartSvc: CartService,\n    private productSvc: ProductService\n  )\n  {\n    \n  }\n\n  // Here's our \"lifecycle\" method. This is a method that Angular will call when the component is created.\n  ngOnInit() {\n    this.productSvc.getProducts().subscribe((products) =>\n    {\n      this.products = products;\n      // Now that we have the products, we can log them to the console.\n      // this is just DJS' own request.\n      if (this.products.length > 0)\n      {\n        for (let product of this.products)\n        {\n          console.log(product);\n        }\n      }\n    });\n  }\n  \n   \n  addToCart(product: IProduct)\n  {\n    this.cartSvc.add(product);\n  }\n\n  getDiscountedClasses(product: IProduct)\n  {\n    if (product.discount > 0)\n    {\n      return ['strikethrough'];\n    }\n    else\n    {\n      return [''];\n    }\n  } \n\n\n  getFilteredProducts()\n  {\n    return this.filter === ''\n      ? this.products\n      : this.products?.filter((product: IProduct) => product.categoryName === this.filter)\n  }\n}\n","<div class=\"container\">\n  <div class=\"filters\">\n    <a class=\"button\" (click)=\"filter = 'Heads'\">Heads</a>\n    <a class=\"button\" (click)=\"filter = 'Arms'\">Arms</a>\n    <a class=\"button\" (click)=\"filter = 'Torsos'\">Torsos</a>\n    <a class=\"button\" (click)=\"filter = 'Bases'\">Bases</a>\n    <a class=\"button\" (click)=\"filter=''\">All</a>\n  </div>\n\n  <ul class=\"products\">\n    <li class=\"product-item\" *ngFor=\"let product of getFilteredProducts()\">\n      <bot-product-details [product]=\"product\" (buy)=\"addToCart(product)\"></bot-product-details>\n    </li>\n  </ul>\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}